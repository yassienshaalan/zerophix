# ZeroPhi API Environment Configuration
# 
# Copy this file to .env and configure for your deployment environment.
# These environment variables will override default settings in the API.
#
# IMPORTANT: Never commit .env files with real credentials to version control!

# =============================================================================
# SERVER SETTINGS
# =============================================================================

# Host to bind the API server to
# - "127.0.0.1" for localhost only (development)
# - "0.0.0.0" for all interfaces (production, docker)
ZEROPHIX_API_HOST=127.0.0.1

# Port to bind the API server to
ZEROPHIX_API_PORT=8000

# Number of worker processes (for production deployment with uvicorn)
# Set to the number of CPU cores available
ZEROPHIX_API_WORKERS=1

# Enable auto-reload on code changes (development only)
# Set to "true" or "false"
ZEROPHIX_API_RELOAD=false

# =============================================================================
# CORS SETTINGS
# =============================================================================

# Enable CORS middleware
ZEROPHIX_CORS_ENABLED=true

# Allowed CORS origins (comma-separated list)
# Use "*" to allow all origins (development only)
# In production, specify exact domains
ZEROPHIX_CORS_ORIGINS=*
# Production example:
# ZEROPHIX_CORS_ORIGINS=https://app.example.com,https://dashboard.example.com

# Allow credentials in CORS requests
ZEROPHIX_CORS_CREDENTIALS=true

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Require authentication for all endpoints
ZEROPHIX_REQUIRE_AUTH=false

# Valid API keys (comma-separated list)
# Generate strong random strings for production
# Example: openssl rand -hex 32
ZEROPHIX_API_KEYS=
# Production example:
# ZEROPHIX_API_KEYS=sk_live_1234567890abcdef,sk_live_fedcba0987654321

# =============================================================================
# SSL/TLS SETTINGS
# =============================================================================

# Enable SSL/TLS
ZEROPHIX_SSL_ENABLED=false

# Path to SSL private key file
ZEROPHIX_SSL_KEYFILE=/path/to/privkey.pem

# Path to SSL certificate file
ZEROPHIX_SSL_CERTFILE=/path/to/fullchain.pem

# Path to CA certificates file (optional)
ZEROPHIX_SSL_CA_CERTS=/path/to/ca-bundle.crt

# =============================================================================
# DEPLOYMENT SETTINGS
# =============================================================================

# Deployment environment: development, staging, production
ZEROPHIX_ENV=development

# Logging level: debug, info, warning, error, critical
ZEROPHIX_LOG_LEVEL=info

# Enable access logging
ZEROPHIX_ACCESS_LOG=true

# =============================================================================
# API DOCUMENTATION
# =============================================================================

# Enable /docs and /redoc endpoints
# Set to "false" in production for security
ZEROPHIX_DOCS_ENABLED=true

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================

# Maximum request size in bytes (default: 10 MB)
ZEROPHIX_MAX_REQUEST_SIZE=10485760

# Request timeout in seconds
ZEROPHIX_TIMEOUT=60

# Keep-alive timeout in seconds
ZEROPHIX_KEEP_ALIVE=5

# =============================================================================
# RATE LIMITING
# =============================================================================

# Enable rate limiting
ZEROPHIX_RATE_LIMIT_ENABLED=false

# Maximum requests per time window
ZEROPHIX_RATE_LIMIT_REQUESTS=100

# Rate limit time window in seconds
ZEROPHIX_RATE_LIMIT_WINDOW=60

# =============================================================================
# PROXY SETTINGS (for deployment behind reverse proxy/load balancer)
# =============================================================================

# Trust X-Forwarded-* headers
# Enable when running behind nginx, Apache, or cloud load balancer
ZEROPHIX_PROXY_HEADERS=false

# Allowed IPs for forwarded headers
# Use "*" to trust all, or specify IP ranges for security
# Examples: "10.0.0.0/8", "172.16.0.0/12,192.168.0.0/16"
ZEROPHIX_FORWARDED_ALLOW_IPS=*

# =============================================================================
# ZEROPHIX CORE SETTINGS (optional)
# =============================================================================

# Directory for caching ML models
ZEROPHIX_MODELS_DIR=~/.cache/zerophix/models

# =============================================================================
# EXAMPLE CONFIGURATIONS FOR DIFFERENT ENVIRONMENTS
# =============================================================================

# --- Development ---
# ZEROPHIX_API_HOST=127.0.0.1
# ZEROPHIX_API_PORT=8000
# ZEROPHIX_API_RELOAD=true
# ZEROPHIX_ENV=development
# ZEROPHIX_LOG_LEVEL=debug
# ZEROPHIX_REQUIRE_AUTH=false
# ZEROPHIX_DOCS_ENABLED=true
# ZEROPHIX_CORS_ORIGINS=*

# --- Docker Container ---
# ZEROPHIX_API_HOST=0.0.0.0
# ZEROPHIX_API_PORT=8000
# ZEROPHIX_API_WORKERS=2
# ZEROPHIX_ENV=production
# ZEROPHIX_LOG_LEVEL=info
# ZEROPHIX_REQUIRE_AUTH=true
# ZEROPHIX_DOCS_ENABLED=false
# ZEROPHIX_PROXY_HEADERS=true

# --- Production (Cloud Platform) ---
# ZEROPHIX_API_HOST=0.0.0.0
# ZEROPHIX_API_PORT=8000
# ZEROPHIX_API_WORKERS=4
# ZEROPHIX_ENV=production
# ZEROPHIX_LOG_LEVEL=warning
# ZEROPHIX_REQUIRE_AUTH=true
# ZEROPHIX_DOCS_ENABLED=false
# ZEROPHIX_SSL_ENABLED=true
# ZEROPHIX_SSL_KEYFILE=/etc/ssl/private/api.key
# ZEROPHIX_SSL_CERTFILE=/etc/ssl/certs/api.crt
# ZEROPHIX_CORS_ORIGINS=https://app.example.com,https://dashboard.example.com
# ZEROPHIX_PROXY_HEADERS=true
# ZEROPHIX_RATE_LIMIT_ENABLED=true
# ZEROPHIX_API_KEYS=your-secret-api-key-here

# --- AWS Elastic Beanstalk / ECS ---
# ZEROPHIX_API_HOST=0.0.0.0
# ZEROPHIX_API_PORT=8000
# ZEROPHIX_API_WORKERS=4
# ZEROPHIX_ENV=production
# ZEROPHIX_PROXY_HEADERS=true
# ZEROPHIX_SSL_ENABLED=false  # SSL at ALB level

# --- Google Cloud Run ---
# ZEROPHIX_API_HOST=0.0.0.0
# ZEROPHIX_API_PORT=8080
# ZEROPHIX_API_WORKERS=1  # Cloud Run auto-scales
# ZEROPHIX_ENV=production
# ZEROPHIX_PROXY_HEADERS=true

# --- Heroku ---
# ZEROPHIX_API_HOST=0.0.0.0
# PORT is set by Heroku dynamically
# ZEROPHIX_API_WORKERS=2
# ZEROPHIX_ENV=production
# ZEROPHIX_PROXY_HEADERS=true

# --- Kubernetes ---
# ZEROPHIX_API_HOST=0.0.0.0
# ZEROPHIX_API_PORT=8000
# ZEROPHIX_API_WORKERS=2
# ZEROPHIX_ENV=production
# ZEROPHIX_PROXY_HEADERS=true
# ZEROPHIX_FORWARDED_ALLOW_IPS=10.0.0.0/8,172.16.0.0/12
